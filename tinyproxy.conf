User nobody
Group nogroup

Port 8888
Timeout 600
LogLevel Info       # Set logging level to Info for detailed logs
# LogRequests Yes    # Remove or comment this line if not supported

MaxClients 100
MinSpareServers 5
MaxSpareServers 20
StartServers 10

# Log to stdout instead of syslog for easier access in CapRover logs
LogFile /dev/stderr
Syslog Off          # Disable syslog to avoid conflicts with LogFile

# Allow all connections (restrict as needed for security)
Allow 0.0.0.0/0

# Enable CONNECT requests for HTTPS
ConnectPort 443
ConnectPort 8443

# Enable detailed headers logging (optional for debugging)
AddHeader Via "TinyProxy"
AddHeader X-TinyProxy "Request Logged"

# Customize error pages (optional)
# ErrorFile 404 "/path/to/custom/404.html"

# Additional optimizations (optional)
DisableViaHeader Yes # Disable adding the Via header if not needed
